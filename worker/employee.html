<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hirewale â€” Complete Worker Registration</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root {
      --brand-600: #0ea5e9;
      --brand-700: #0284c7;
      --brand-500: #38bdf8;
      --brand-400: #7dd3fc;
      --brand-300: #bae6fd;
      --brand-50: #f0f9ff;
      --ink: #0f172a;
      --ink-light: #334155;
      --muted: #64748b;
      --muted-light: #94a3b8;
      --muted-extra-light: #cbd5e1;
      --bg: #f8fafc;
      --bg-dark: #f1f5f9;
      --success: #10b981;
      --success-light: #d1fae5;
      --danger: #ef4444;
      --danger-light: #fee2e2;
      --warning: #f59e0b;
      --warning-light: #fef3c7;
      --border: #e2e8f0;
      --border-light: #f1f5f9;
      --card-bg: rgba(255, 255, 255, 0.98);
      --glass-bg: rgba(255, 255, 255, 0.92);
      --glass-border: rgba(255, 255, 255, 0.3);
      --glass-shadow: 0 20px 40px rgba(2, 132, 199, 0.08);
      --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      --radius: 16px;
      --radius-lg: 24px;
      --radius-xl: 32px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, sans-serif;
    }

    body {
      min-height: 100vh;
      color: var(--ink);
      background: linear-gradient(135deg, #f0f9ff 0%, #ffffff 30%, #f8fafc 100%);
      padding: 20px;
      overflow-x: hidden;
    }

    .particles-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
    }

    .particle {
      position: absolute;
      background: var(--brand-300);
      border-radius: 50%;
      opacity: 0.3;
    }

    .registration-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 280px 1fr;
      gap: 30px;
      position: relative;
      min-height: calc(100vh - 40px);
    }

    /* Sidebar Navigation */
    .sidebar {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-xl);
      padding: 30px 20px;
      height: fit-content;
      position: sticky;
      top: 20px;
      box-shadow: var(--glass-shadow);
    }

    .brand-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .brand-logo {
      font-size: 32px;
      font-weight: 800;
      background: linear-gradient(135deg, var(--brand-600) 0%, var(--brand-700) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .brand-subtitle {
      color: var(--muted);
      font-size: 14px;
      font-weight: 500;
    }

    .step-nav {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .step-item {
      display: flex;
      align-items: center;
      gap: 15px;
      padding: 18px 20px;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      overflow: hidden;
    }

    .step-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0;
      background: linear-gradient(90deg, var(--brand-50), transparent);
      transition: width 0.3s ease;
    }

    .step-item:hover::before {
      width: 100%;
    }

    .step-item.active {
      background: var(--brand-50);
      border: 2px solid var(--brand-500);
      transform: translateX(5px);
    }

    .step-item.completed {
      background: var(--success-light);
      border: 2px solid var(--success);
    }

    .step-icon {
      width: 40px;
      height: 40px;
      background: white;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: var(--muted);
      transition: var(--transition);
      border: 2px solid var(--border);
    }

    .step-item.active .step-icon {
      background: var(--brand-600);
      color: white;
      border-color: var(--brand-600);
    }

    .step-item.completed .step-icon {
      background: var(--success);
      color: white;
      border-color: var(--success);
    }

    .step-info {
      flex: 1;
    }

    .step-number {
      font-size: 12px;
      color: var(--muted);
      font-weight: 600;
      margin-bottom: 4px;
    }

    .step-title {
      font-size: 15px;
      font-weight: 600;
      color: var(--ink);
    }

    .progress-ring {
      width: 120px;
      height: 120px;
      margin: 30px auto;
      position: relative;
    }

    .ring-bg {
      fill: none;
      stroke: var(--border);
      stroke-width: 8;
    }

    .ring-progress {
      fill: none;
      stroke: var(--brand-600);
      stroke-width: 8;
      stroke-linecap: round;
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
      transition: stroke-dashoffset 0.5s ease;
    }

    .progress-text {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
    }

    .progress-percent {
      font-size: 24px;
      font-weight: 700;
      color: var(--brand-600);
    }

    .progress-label {
      font-size: 12px;
      color: var(--muted);
      font-weight: 500;
    }

    /* Main Content Area */
    .main-content {
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: var(--radius-xl);
      padding: 40px;
      box-shadow: var(--glass-shadow);
      position: relative;
      overflow: hidden;
    }

    .step-content {
      display: none;
      animation: slideIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .step-content.active {
      display: block;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .step-header {
      margin-bottom: 40px;
      text-align: center;
    }

    .step-indicator {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: var(--brand-50);
      padding: 10px 20px;
      border-radius: 50px;
      margin-bottom: 20px;
    }

    .step-indicator .current-step {
      font-weight: 700;
      color: var(--brand-600);
    }

    .step-indicator .total-steps {
      color: var(--muted);
    }

    .step-title-main {
      font-size: 28px;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 12px;
    }

    .step-subtitle {
      color: var(--muted);
      font-size: 16px;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    /* Common Form Styles */
    .form-container {
      max-width: 800px;
      margin: 0 auto;
    }

    .form-section {
      margin-bottom: 40px;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 20px;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid var(--border-light);
    }

    .section-title i {
      color: var(--brand-600);
    }

    .form-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 25px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .form-label {
      font-weight: 600;
      font-size: 15px;
      color: var(--ink-light);
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .form-label .required {
      color: var(--danger);
    }

    .form-label .optional {
      color: var(--muted);
      font-size: 13px;
      font-weight: 500;
    }

    .input-container {
      position: relative;
    }

    .input-with-icon {
      width: 100%;
      padding: 16px 20px 16px 50px;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      font-size: 16px;
      transition: var(--transition);
      background: white;
      color: var(--ink);
    }

    .input-with-icon:focus {
      outline: none;
      border-color: var(--brand-500);
      box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.15);
      transform: translateY(-2px);
    }

    .input-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
      font-size: 18px;
    }

    .help-text {
      font-size: 13px;
      color: var(--muted);
      margin-top: 6px;
    }

    .error-message {
      font-size: 13px;
      color: var(--danger);
      margin-top: 6px;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    /* OTP Specific Styles */
    .otp-container {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin: 30px 0;
    }

    .otp-input {
      width: 60px;
      height: 70px;
      text-align: center;
      font-size: 28px;
      font-weight: 600;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      background: white;
      transition: var(--transition);
    }

    .otp-input:focus {
      border-color: var(--brand-600);
      box-shadow: 0 0 0 4px rgba(56, 189, 248, 0.2);
      transform: translateY(-3px);
    }

    .otp-timer {
      text-align: center;
      color: var(--muted);
      font-size: 14px;
      margin: 20px 0;
    }

    .otp-timer .countdown {
      color: var(--brand-600);
      font-weight: 600;
    }

    /* Service Grid */
    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 20px;
    }

    .service-card {
      background: white;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      padding: 25px;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 15px;
    }

    .service-card:hover {
      transform: translateY(-5px) scale(1.02);
      border-color: var(--brand-500);
      box-shadow: 0 10px 30px rgba(14, 165, 233, 0.15);
    }

    .service-card.selected {
      border-color: var(--brand-600);
      background: linear-gradient(135deg, var(--brand-50), white);
      box-shadow: 0 10px 30px rgba(14, 165, 233, 0.2);
    }

    .service-icon {
      width: 70px;
      height: 70px;
      background: var(--brand-50);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      color: var(--brand-600);
    }

    .service-name {
      font-size: 16px;
      font-weight: 600;
      color: var(--ink);
    }

    /* File Upload Styles */
    .upload-area {
      border: 3px dashed var(--border);
      border-radius: var(--radius);
      padding: 50px 30px;
      text-align: center;
      background: white;
      transition: var(--transition);
      cursor: pointer;
    }

    .upload-area:hover,
    .upload-area.drag-over {
      border-color: var(--brand-500);
      background: var(--brand-50);
      transform: translateY(-5px);
    }

    .upload-icon {
      font-size: 48px;
      color: var(--brand-500);
      margin-bottom: 20px;
    }

    .upload-text {
      margin-bottom: 20px;
    }

    .upload-text h3 {
      font-size: 20px;
      color: var(--ink);
      margin-bottom: 10px;
    }

    .upload-text p {
      color: var(--muted);
    }

    .file-preview {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }

    .preview-card {
      background: white;
      border-radius: var(--radius);
      overflow: hidden;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      transition: var(--transition);
    }

    .preview-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    }

    /* Payment Toggle */
    .payment-toggle {
      display: flex;
      background: var(--bg-dark);
      border-radius: var(--radius);
      padding: 8px;
      margin-bottom: 30px;
    }

    .toggle-option {
      flex: 1;
      padding: 15px;
      text-align: center;
      cursor: pointer;
      border-radius: calc(var(--radius) - 4px);
      font-weight: 600;
      transition: var(--transition);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
    }

    .toggle-option.active {
      background: white;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      color: var(--brand-600);
    }

    /* Terms Box */
    .terms-box {
      height: 300px;
      overflow-y: auto;
      background: white;
      border: 2px solid var(--border);
      border-radius: var(--radius);
      padding: 25px;
      margin: 30px 0;
      line-height: 1.8;
      color: var(--ink-light);
    }

    .terms-box::-webkit-scrollbar {
      width: 8px;
    }

    .terms-box::-webkit-scrollbar-track {
      background: var(--bg-dark);
      border-radius: 4px;
    }

    .terms-box::-webkit-scrollbar-thumb {
      background: var(--brand-500);
      border-radius: 4px;
    }

    /* Review Summary */
    .review-summary {
      background: white;
      border-radius: var(--radius);
      padding: 30px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
    }

    .summary-section {
      margin-bottom: 30px;
      padding-bottom: 30px;
      border-bottom: 2px solid var(--border-light);
    }

    .summary-section:last-child {
      margin-bottom: 0;
      border-bottom: none;
    }

    .summary-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 20px;
    }

    .summary-item {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .summary-label {
      font-size: 14px;
      color: var(--muted);
      font-weight: 500;
    }

    .summary-value {
      font-size: 16px;
      color: var(--ink);
      font-weight: 600;
    }

    /* Navigation Buttons */
    .navigation-buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 50px;
      padding-top: 30px;
      border-top: 2px solid var(--border-light);
    }

    .btn {
      padding: 16px 32px;
      border-radius: var(--radius);
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 12px;
      border: none;
    }

    .btn:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none !important;
    }

    .btn-prev {
      background: var(--bg-dark);
      color: var(--muted);
    }

    .btn-prev:hover:not(:disabled) {
      background: var(--border);
      transform: translateX(-5px);
    }

    .btn-next {
      background: linear-gradient(135deg, var(--brand-600) 0%, var(--brand-700) 100%);
      color: white;
      min-width: 160px;
      justify-content: center;
    }

    .btn-next:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(14, 165, 233, 0.3);
    }

    .btn-submit {
      background: linear-gradient(135deg, var(--success) 0%, #059669 100%);
      color: white;
      min-width: 200px;
      justify-content: center;
    }

    .btn-submit:hover:not(:disabled) {
      transform: translateY(-3px);
      box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
    }

    /* Success Screen */
    .success-screen {
      text-align: center;
      padding: 60px 40px;
      animation: fadeIn 0.8s ease;
    }

    .success-icon {
      font-size: 80px;
      color: var(--success);
      margin-bottom: 30px;
      animation: bounce 1s ease infinite alternate;
    }

    @keyframes bounce {
      from {
        transform: translateY(0);
      }
      to {
        transform: translateY(-20px);
      }
    }

    .success-title {
      font-size: 36px;
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 20px;
    }

    .success-message {
      color: var(--muted);
      font-size: 18px;
      line-height: 1.6;
      max-width: 600px;
      margin: 0 auto 40px;
    }

    .dashboard-button {
      background: linear-gradient(135deg, var(--brand-600) 0%, var(--brand-700) 100%);
      color: white;
      padding: 18px 40px;
      border-radius: var(--radius);
      font-size: 18px;
      font-weight: 600;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 15px;
      transition: var(--transition);
    }

    .dashboard-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 35px rgba(14, 165, 233, 0.3);
    }

    /* Responsive Design */
    @media (max-width: 1024px) {
      .registration-container {
        grid-template-columns: 1fr;
      }
      
      .sidebar {
        position: static;
        margin-bottom: 20px;
      }
      
      .main-content {
        padding: 30px;
      }
    }

    @media (max-width: 768px) {
      .main-content {
        padding: 20px;
      }
      
      .form-grid {
        grid-template-columns: 1fr;
      }
      
      .service-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .navigation-buttons {
        flex-direction: column;
        gap: 15px;
      }
      
      .btn {
        width: 100%;
        justify-content: center;
      }
    }

    @media (max-width: 480px) {
      body {
        padding: 10px;
      }
      
      .main-content {
        padding: 15px;
      }
      
      .step-title-main {
        font-size: 24px;
      }
      
      .service-grid {
        grid-template-columns: 1fr;
      }
      
      .otp-container {
        gap: 10px;
      }
      
      .otp-input {
        width: 50px;
        height: 60px;
        font-size: 24px;
      }
    }

    /* Loading States */
    .loading {
      position: relative;
      pointer-events: none;
    }

    .loading::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 20px;
      height: 20px;
      border: 2px solid white;
      border-top-color: transparent;
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: translate(-50%, -50%) rotate(360deg);
      }
    }

    /* Toast Notifications */
    .toast-container {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .toast {
      background: white;
      border-radius: var(--radius);
      padding: 16px 20px;
      box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideInRight 0.3s ease;
      min-width: 300px;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(100%);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    .toast.success {
      border-left: 4px solid var(--success);
    }

    .toast.error {
      border-left: 4px solid var(--danger);
    }

    .toast.info {
      border-left: 4px solid var(--brand-600);
    }

    .toast-icon {
      font-size: 20px;
    }

    .toast.success .toast-icon {
      color: var(--success);
    }

    .toast.error .toast-icon {
      color: var(--danger);
    }

    .toast.info .toast-icon {
      color: var(--brand-600);
    }

    .toast-content {
      flex: 1;
    }

    .toast-title {
      font-weight: 600;
      font-size: 14px;
      margin-bottom: 4px;
    }

    .toast-message {
      font-size: 13px;
      color: var(--muted);
    }

    /* Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes pulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    .pulse {
      animation: pulse 2s infinite;
    }
  </style>
</head>
<body>
  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- Background Particles -->
  <div class="particles-container" id="particlesContainer"></div>

  <!-- Main Registration Container -->
  <div class="registration-container">
    
    <!-- Sidebar Navigation -->
    <aside class="sidebar">
      <div class="brand-header">
        <div class="brand-logo">
          <i class="fas fa-hard-hat"></i>
          HIREWALE
        </div>
        <div class="brand-subtitle">Worker Registration Portal</div>
      </div>

      <div class="step-nav" id="stepNav">
        <!-- Steps will be dynamically generated -->
      </div>

      <div class="progress-ring">
        <svg viewBox="0 0 120 120">
          <circle class="ring-bg" cx="60" cy="60" r="54"></circle>
          <circle class="ring-progress" cx="60" cy="60" r="54" stroke-dasharray="339.292" stroke-dashoffset="339.292"></circle>
        </svg>
        <div class="progress-text">
          <div class="progress-percent" id="progressPercent">0%</div>
          <div class="progress-label">COMPLETED</div>
        </div>
      </div>
    </aside>

    <!-- Main Content Area -->
    <main class="main-content">
      <!-- Step 1: Basic Information -->
      <div class="step-content" id="step1" data-step="1">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">1</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Basic Information</h1>
          <p class="step-subtitle">Let's start with your basic details to create your worker profile</p>
        </div>

        <div class="form-container">
          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-user-circle"></i>
              Personal Details
            </div>

            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-user"></i>
                  Full Name
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="fullName" placeholder="Enter your full name">
                  <div class="input-icon">
                    <i class="fas fa-user"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-calendar"></i>
                  Date of Birth
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="date" class="input-with-icon" id="dob">
                  <div class="input-icon">
                    <i class="fas fa-calendar"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-mobile-alt"></i>
              Contact Information
            </div>

            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-phone"></i>
                  Mobile Number
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="tel" class="input-with-icon" id="mobile" placeholder="10-digit mobile number">
                  <div class="input-icon">
                    <i class="fas fa-phone"></i>
                  </div>
                </div>
                <div class="help-text">We'll send OTP for verification</div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-envelope"></i>
                  Email Address
                  <span class="optional">(Optional)</span>
                </label>
                <div class="input-container">
                  <input type="email" class="input-with-icon" id="email" placeholder="you@example.com">
                  <div class="input-icon">
                    <i class="fas fa-envelope"></i>
                  </div>
                </div>
              </div>
            </div>

            <div class="form-group" id="otpSection" style="display: none;">
              <label class="form-label">
                <i class="fas fa-shield-alt"></i>
                OTP Verification
              </label>
              <div class="otp-container" id="otpContainer"></div>
              <div class="otp-timer">
                OTP valid for: <span class="countdown" id="otpTimer">02:00</span>
              </div>
              <button class="btn btn-next" id="verifyOtpBtn" style="margin: 20px auto; display: none;">
                <i class="fas fa-check-circle"></i> Verify OTP
              </button>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-lock"></i>
              Account Security
            </div>

            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-key"></i>
                  Create Password
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="password" class="input-with-icon" id="password" placeholder="Strong password">
                  <div class="input-icon">
                    <i class="fas fa-key"></i>
                  </div>
                </div>
                <div class="help-text">Minimum 8 characters with letters and numbers</div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-key"></i>
                  Confirm Password
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="password" class="input-with-icon" id="confirmPassword" placeholder="Re-enter password">
                  <div class="input-icon">
                    <i class="fas fa-key"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 2: Service Selection -->
      <div class="step-content" id="step2" data-step="2">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">2</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Service Selection</h1>
          <p class="step-subtitle">Choose the services you offer to match with relevant job opportunities</p>
        </div>

        <div class="form-container">
          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-search"></i>
              Search & Browse
            </div>
            <div class="input-container">
              <input type="text" class="input-with-icon" id="serviceSearch" placeholder="Search for services...">
              <div class="input-icon">
                <i class="fas fa-search"></i>
              </div>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-tags"></i>
              Popular Services
            </div>
            <div class="service-grid" id="serviceGrid">
              <!-- Services will be dynamically populated -->
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-lightbulb"></i>
              Custom Service
            </div>
            <div class="form-group">
              <label class="form-label">
                Don't see your service? Add a custom one
              </label>
              <div class="input-container">
                <input type="text" class="input-with-icon" id="customService" placeholder="Enter custom service name">
                <div class="input-icon">
                  <i class="fas fa-plus"></i>
                </div>
              </div>
              <textarea class="input-with-icon" id="serviceDescription" placeholder="Describe your service..." rows="3" style="padding-left: 20px; margin-top: 15px;"></textarea>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 3: Location Details -->
      <div class="step-content" id="step3" data-step="3">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">3</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Location Details</h1>
          <p class="step-subtitle">Set your location to receive relevant job opportunities in your area</p>
        </div>

        <div class="form-container">
          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-map-marker-alt"></i>
              Current Location
            </div>
            <div style="text-align: center; padding: 40px; background: var(--brand-50); border-radius: var(--radius);">
              <i class="fas fa-location-arrow" style="font-size: 48px; color: var(--brand-600); margin-bottom: 20px;"></i>
              <h3 style="margin-bottom: 15px;">Auto-Detect Location</h3>
              <p style="color: var(--muted); margin-bottom: 25px;">Let us automatically detect your current location for better job matches</p>
              <button class="btn btn-next" id="detectLocationBtn">
                <i class="fas fa-crosshairs"></i> Detect My Location
              </button>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-edit"></i>
              Manual Location Entry
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-city"></i>
                  City
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="city" placeholder="Enter your city">
                  <div class="input-icon">
                    <i class="fas fa-city"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-map-pin"></i>
                  Area / Locality
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="area" placeholder="Area, street or locality">
                  <div class="input-icon">
                    <i class="fas fa-map-pin"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-map-signs"></i>
                  Pincode
                  <span class="optional">(Optional)</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="pincode" placeholder="6-digit pincode">
                  <div class="input-icon">
                    <i class="fas fa-map-signs"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-globe-asia"></i>
                  State
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <select class="input-with-icon" id="state">
                    <option value="">Select State</option>
                    <option value="KA">Karnataka</option>
                    <option value="MH">Maharashtra</option>
                    <option value="TN">Tamil Nadu</option>
                    <option value="DL">Delhi</option>
                    <option value="UP">Uttar Pradesh</option>
                    <option value="GJ">Gujarat</option>
                    <option value="RJ">Rajasthan</option>
                    <option value="AP">Andhra Pradesh</option>
                    <option value="TG">Telangana</option>
                    <option value="KL">Kerala</option>
                    <option value="MP">Madhya Pradesh</option>
                    <option value="PB">Punjab</option>
                    <option value="HR">Haryana</option>
                    <option value="WB">West Bengal</option>
                    <option value="OR">Odisha</option>
                  </select>
                  <div class="input-icon">
                    <i class="fas fa-globe-asia"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 4: Identity Verification -->
      <div class="step-content" id="step4" data-step="4">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">4</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Identity Verification</h1>
          <p class="step-subtitle">Verify your identity to build trust with clients and secure your account</p>
        </div>

        <div class="form-container">
          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-id-card"></i>
              ID Document Type
            </div>
            <div class="form-grid">
              <div class="service-card" data-type="aadhaar">
                <div class="service-icon">
                  <i class="fas fa-address-card"></i>
                </div>
                <div class="service-name">Aadhaar Card</div>
              </div>
              <div class="service-card" data-type="pan">
                <div class="service-icon">
                  <i class="fas fa-credit-card"></i>
                </div>
                <div class="service-name">PAN Card</div>
              </div>
              <div class="service-card" data-type="voter">
                <div class="service-icon">
                  <i class="fas fa-vote-yea"></i>
                </div>
                <div class="service-name">Voter ID</div>
              </div>
              <div class="service-card" data-type="driving">
                <div class="service-icon">
                  <i class="fas fa-id-card-alt"></i>
                </div>
                <div class="service-name">Driving License</div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-file-upload"></i>
              Document Upload
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-passport"></i>
                  Government ID
                  <span class="required">*</span>
                </label>
                <div class="upload-area" id="idUploadArea">
                  <div class="upload-icon">
                    <i class="fas fa-cloud-upload-alt"></i>
                  </div>
                  <div class="upload-text">
                    <h3>Upload Government ID</h3>
                    <p>JPEG, PNG or PDF (Max 5MB)</p>
                  </div>
                  <input type="file" id="idDocument" accept=".jpg,.jpeg,.png,.pdf" style="display: none;">
                  <button class="btn btn-next" style="margin-top: 20px;">
                    <i class="fas fa-upload"></i> Choose File
                  </button>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-camera"></i>
                  Profile Photo
                  <span class="required">*</span>
                </label>
                <div class="upload-area" id="photoUploadArea">
                  <div class="upload-icon">
                    <i class="fas fa-user-circle"></i>
                  </div>
                  <div class="upload-text">
                    <h3>Upload Profile Photo</h3>
                    <p>JPEG or PNG (Max 2MB)</p>
                  </div>
                  <input type="file" id="profilePhoto" accept=".jpg,.jpeg,.png" style="display: none;">
                  <button class="btn btn-next" style="margin-top: 20px;">
                    <i class="fas fa-upload"></i> Choose Photo
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 5: Skill Proof -->
      <div class="step-content" id="step5" data-step="5">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">5</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Skill Proof (Optional)</h1>
          <p class="step-subtitle">Showcase your skills and qualifications to stand out from other workers</p>
        </div>

        <div class="form-container">
          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-certificate"></i>
              Certifications & Documents
            </div>
            <div class="upload-area" id="certificateUploadArea">
              <div class="upload-icon">
                <i class="fas fa-file-certificate"></i>
              </div>
              <div class="upload-text">
                <h3>Upload Certificates</h3>
                <p>Showcase your qualifications, training certificates, or awards</p>
              </div>
              <input type="file" id="certificates" multiple accept=".jpg,.jpeg,.png,.pdf" style="display: none;">
              <button class="btn btn-next" style="margin-top: 20px;">
                <i class="fas fa-upload"></i> Upload Certificates
              </button>
            </div>
          </div>

          <div class="form-section">
            <div class="section-title">
              <i class="fas fa-video"></i>
              Introduction Video
            </div>
            <div class="upload-area" id="videoUploadArea">
              <div class="upload-icon">
                <i class="fas fa-video"></i>
              </div>
              <div class="upload-text">
                <h3>Upload Introduction Video</h3>
                <p>Record a short video introducing yourself and your skills (Max 2 minutes)</p>
              </div>
              <input type="file" id="introVideo" accept="video/*" style="display: none;">
              <button class="btn btn-next" style="margin-top: 20px;">
                <i class="fas fa-upload"></i> Upload Video
              </button>
            </div>
          </div>

          <div style="background: var(--brand-50); padding: 25px; border-radius: var(--radius); margin-top: 30px;">
            <h3 style="display: flex; align-items: center; gap: 10px; margin-bottom: 15px;">
              <i class="fas fa-chart-line" style="color: var(--brand-600);"></i>
              Boost Your Profile
            </h3>
            <p style="color: var(--ink-light); margin-bottom: 15px;">
              Adding skill proof can increase your chances of getting hired by up to 70%!
            </p>
            <ul style="color: var(--muted); padding-left: 20px;">
              <li>Builds trust with potential clients</li>
              <li>Increases your visibility in search results</li>
              <li>Can lead to higher-paying jobs</li>
              <li>You can add these later from your dashboard</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Step 6: Payment Details -->
      <div class="step-content" id="step6" data-step="6">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">6</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Payment Details</h1>
          <p class="step-subtitle">Set up your payment method to receive payments for completed jobs</p>
        </div>

        <div class="form-container">
          <div class="payment-toggle">
            <div class="toggle-option active" data-method="bank">
              <i class="fas fa-university"></i>
              Bank Account
            </div>
            <div class="toggle-option" data-method="upi">
              <i class="fas fa-mobile-alt"></i>
              UPI
            </div>
          </div>

          <div class="form-section" id="bankSection">
            <div class="section-title">
              <i class="fas fa-credit-card"></i>
              Bank Account Details
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-user"></i>
                  Account Holder Name
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="accountName" placeholder="As per bank records">
                  <div class="input-icon">
                    <i class="fas fa-user"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-hashtag"></i>
                  Account Number
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="accountNumber" placeholder="Enter account number">
                  <div class="input-icon">
                    <i class="fas fa-hashtag"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-code"></i>
                  IFSC Code
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="ifscCode" placeholder="Bank IFSC code">
                  <div class="input-icon">
                    <i class="fas fa-code"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-redo"></i>
                  Confirm Account Number
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="confirmAccount" placeholder="Re-enter account number">
                  <div class="input-icon">
                    <i class="fas fa-redo"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="form-section" id="upiSection" style="display: none;">
            <div class="section-title">
              <i class="fas fa-qrcode"></i>
              UPI Details
            </div>
            <div class="form-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-at"></i>
                  UPI ID
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="upiId" placeholder="username@upi">
                  <div class="input-icon">
                    <i class="fas fa-at"></i>
                  </div>
                </div>
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-redo"></i>
                  Confirm UPI ID
                  <span class="required">*</span>
                </label>
                <div class="input-container">
                  <input type="text" class="input-with-icon" id="confirmUpi" placeholder="Re-enter UPI ID">
                  <div class="input-icon">
                    <i class="fas fa-redo"></i>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div style="background: var(--brand-50); padding: 25px; border-radius: var(--radius); margin-top: 30px;">
            <div style="display: flex; align-items: center; gap: 15px;">
              <i class="fas fa-shield-alt" style="font-size: 32px; color: var(--brand-600);"></i>
              <div>
                <h3 style="margin-bottom: 8px;">Secure & Encrypted</h3>
                <p style="color: var(--muted);">Your payment information is encrypted and securely stored. We never share your financial details.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 7: Terms & Conditions -->
      <div class="step-content" id="step7" data-step="7">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">7</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Terms & Conditions</h1>
          <p class="step-subtitle">Please review and accept our terms to complete your registration</p>
        </div>

        <div class="form-container">
          <div class="terms-box">
            <h3 style="color: var(--ink); margin-bottom: 20px;">Hirewale Worker Agreement</h3>
            
            <p><strong>1. Professional Conduct:</strong> You must maintain professional behavior at all times. Any misconduct may result in temporary suspension or permanent termination of your account.</p>
            
            <p><strong>2. Service Commission:</strong> A commission of 15-20% will be applied to each completed job, covering platform maintenance, customer support, and payment processing.</p>
            
            <p><strong>3. Cancellation Policy:</strong> Cancellations should be avoided. Repeated cancellations may affect your ranking. Cancellations with less than 24 hours notice will incur penalty points.</p>
            
            <p><strong>4. Information Accuracy:</strong> All personal information, bank details, and documents must be accurate and up-to-date. Changes must be reported within 14 days.</p>
            
            <p><strong>5. Verification Rights:</strong> Hirewale reserves the right to verify submitted documents and perform background checks at our discretion.</p>
            
            <p><strong>6. Fraud Prevention:</strong> Any fraudulent activity will lead to permanent account suspension and may result in legal action.</p>
            
            <p><strong>7. Agreement Acceptance:</strong> By proceeding, you accept Hirewale's Terms of Service, Privacy Policy, and all associated agreements.</p>
            
            <p><strong>8. Intellectual Property:</strong> You retain ownership of your intellectual property but grant Hirewale a license to use your profile for marketing and operations.</p>
            
            <p><strong>9. Dispute Resolution:</strong> Disputes must be reported through our official resolution system and will be mediated according to our policy.</p>
            
            <p><strong>10. Policy Updates:</strong> Terms may be updated periodically. Continued platform use constitutes acceptance of updated terms.</p>
          </div>

          <div class="form-section">
            <div class="form-group">
              <label style="display: flex; align-items: flex-start; gap: 15px; cursor: pointer; padding: 20px; background: white; border-radius: var(--radius); border: 2px solid var(--border);">
                <input type="checkbox" id="agreeTerms" style="width: 20px; height: 20px; margin-top: 3px;">
                <div>
                  <div style="font-weight: 600; margin-bottom: 8px;">I agree to the Terms & Conditions</div>
                  <div style="color: var(--muted); font-size: 14px;">
                    I have read and agree to Hirewale's Terms of Service, Privacy Policy, and Service Agreement. I understand this is a legally binding agreement.
                  </div>
                </div>
              </label>
            </div>
          </div>
        </div>
      </div>

      <!-- Step 8: Review & Submit -->
      <div class="step-content" id="step8" data-step="8">
        <div class="step-header">
          <div class="step-indicator">
            <span class="current-step">8</span> of <span class="total-steps">8</span>
          </div>
          <h1 class="step-title-main">Review & Submit</h1>
          <p class="step-subtitle">Review your information before completing the registration</p>
        </div>

        <div class="form-container">
          <div class="review-summary" id="reviewSummary">
            <!-- Summary will be populated dynamically -->
          </div>

          <div class="form-section">
            <label style="display: flex; align-items: flex-start; gap: 15px; cursor: pointer; padding: 20px; background: white; border-radius: var(--radius); border: 2px solid var(--border);">
              <input type="checkbox" id="confirmFinal" style="width: 20px; height: 20px; margin-top: 3px;">
              <div>
                <div style="font-weight: 600; margin-bottom: 8px;">Final Confirmation</div>
                <div style="color: var(--muted); font-size: 14px;">
                  I confirm that all information provided is accurate to the best of my knowledge. I understand that providing false information may lead to account suspension.
                </div>
              </div>
            </label>
          </div>
        </div>
      </div>

      <!-- Success Screen -->
      <div class="step-content" id="successScreen" style="display: none;">
        <div class="success-screen">
          <div class="success-icon">
            <i class="fas fa-check-circle"></i>
          </div>
          <h1 class="success-title">Registration Successful!</h1>
          <p class="success-message">
            Congratulations! Your worker profile has been created successfully. 
            Your account is now being processed and will be active within 24 hours.
            You can access your dashboard to start finding jobs immediately.
          </p>
          <a href="worker-dashboard.html" class="dashboard-button">
            <i class="fas fa-tachometer-alt"></i>
            Go to Dashboard
          </a>
          <div style="margin-top: 40px; color: var(--muted);">
            <p>Account ID: <strong id="accountId">HW-2024-001</strong></p>
            <p style="font-size: 14px; margin-top: 10px;">Check your email for registration confirmation</p>
          </div>
        </div>
      </div>

      <!-- Navigation Buttons -->
      <div class="navigation-buttons">
        <button class="btn btn-prev" id="prevBtn">
          <i class="fas fa-arrow-left"></i>
          Previous
        </button>
        <button class="btn btn-next" id="nextBtn">
          Next Step
          <i class="fas fa-arrow-right"></i>
        </button>
        <button class="btn btn-submit" id="submitBtn" style="display: none;">
          <i class="fas fa-paper-plane"></i>
          Submit Registration
        </button>
      </div>
    </main>
  </div>

  <script>
    // Main Application State
    const appState = {
      currentStep: 1,
      totalSteps: 8,
      data: {
        personal: {},
        service: {},
        location: {},
        identity: {},
        skills: {},
        payment: {},
        terms: {}
      },
      steps: [
        {
          id: 1,
          title: "Basic Info",
          icon: "fa-user",
          completed: false
        },
        {
          id: 2,
          title: "Service",
          icon: "fa-briefcase",
          completed: false
        },
        {
          id: 3,
          title: "Location",
          icon: "fa-map-marker-alt",
          completed: false
        },
        {
          id: 4,
          title: "Identity",
          icon: "fa-id-card",
          completed: false
        },
        {
          id: 5,
          title: "Skills",
          icon: "fa-certificate",
          completed: false
        },
        {
          id: 6,
          title: "Payment",
          icon: "fa-credit-card",
          completed: false
        },
        {
          id: 7,
          title: "Terms",
          icon: "fa-file-contract",
          completed: false
        },
        {
          id: 8,
          title: "Review",
          icon: "fa-clipboard-check",
          completed: false
        }
      ]
    };

    // Services Data
    const services = [
      { id: 1, name: "Plumber", icon: "fa-faucet", category: "home" },
      { id: 2, name: "Electrician", icon: "fa-bolt", category: "home" },
      { id: 3, name: "Driver", icon: "fa-car", category: "transport" },
      { id: 4, name: "Carpenter", icon: "fa-hammer", category: "home" },
      { id: 5, name: "Tutor", icon: "fa-graduation-cap", category: "education" },
      { id: 6, name: "Beautician", icon: "fa-spa", category: "beauty" },
      { id: 7, name: "AC Technician", icon: "fa-fan", category: "home" },
      { id: 8, name: "Painter", icon: "fa-paint-roller", category: "home" },
      { id: 9, name: "Mechanic", icon: "fa-tools", category: "auto" },
      { id: 10, name: "Cook", icon: "fa-utensils", category: "home" },
      { id: 11, name: "Yoga Instructor", icon: "fa-spa", category: "fitness" },
      { id: 12, name: "IT Support", icon: "fa-laptop", category: "tech" }
    ];

    // Initialize the application
    document.addEventListener('DOMContentLoaded', function() {
      initializeApp();
      setupEventListeners();
      createParticles();
      updateProgress();
    });

    function initializeApp() {
      // Render step navigation
      renderStepNavigation();
      
      // Initialize services grid
      renderServicesGrid();
      
      // Initialize OTP inputs
      initializeOTP();
      
      // Show first step
      showStep(appState.currentStep);
      
      // Load any saved data
      loadSavedData();
    }

    function renderStepNavigation() {
      const stepNav = document.getElementById('stepNav');
      stepNav.innerHTML = appState.steps.map(step => `
        <div class="step-item ${step.id === appState.currentStep ? 'active' : ''} ${step.completed ? 'completed' : ''}" 
             data-step="${step.id}">
          <div class="step-icon">
            <i class="fas ${step.icon}"></i>
          </div>
          <div class="step-info">
            <div class="step-number">Step ${step.id}</div>
            <div class="step-title">${step.title}</div>
          </div>
        </div>
      `).join('');
    }

    function renderServicesGrid() {
      const serviceGrid = document.getElementById('serviceGrid');
      serviceGrid.innerHTML = services.map(service => `
        <div class="service-card" data-service="${service.id}">
          <div class="service-icon">
            <i class="fas ${service.icon}"></i>
          </div>
          <div class="service-name">${service.name}</div>
        </div>
      `).join('');
    }

    function initializeOTP() {
      const otpContainer = document.getElementById('otpContainer');
      otpContainer.innerHTML = Array(6).fill(0).map((_, i) => `
        <input type="text" class="otp-input" maxlength="1" data-index="${i}">
      `).join('');
    }

    function setupEventListeners() {
      // Step navigation clicks
      document.querySelectorAll('.step-item').forEach(item => {
        item.addEventListener('click', (e) => {
          const step = parseInt(e.currentTarget.dataset.step);
          if (step <= appState.currentStep || appState.steps[step-2]?.completed) {
            showStep(step);
          }
        });
      });

      // Next button
      document.getElementById('nextBtn').addEventListener('click', nextStep);
      
      // Previous button
      document.getElementById('prevBtn').addEventListener('click', prevStep);
      
      // Submit button
      document.getElementById('submitBtn').addEventListener('click', submitRegistration);
      
      // Mobile input for OTP
      const mobileInput = document.getElementById('mobile');
      mobileInput.addEventListener('input', (e) => {
        const value = e.target.value.replace(/\D/g, '');
        e.target.value = value;
        if (value.length === 10) {
          showOTPSection();
          startOTPTimer();
        }
      });

      // OTP inputs
      document.querySelectorAll('.otp-input').forEach(input => {
        input.addEventListener('input', (e) => {
          const value = e.target.value;
          if (value && e.target.nextElementSibling) {
            e.target.nextElementSibling.focus();
          }
          
          // Check if all OTP inputs are filled
          const otpInputs = document.querySelectorAll('.otp-input');
          const filled = Array.from(otpInputs).every(inp => inp.value);
          if (filled) {
            document.getElementById('verifyOtpBtn').style.display = 'block';
          }
        });
        
        input.addEventListener('keydown', (e) => {
          if (e.key === 'Backspace' && !e.target.value && e.target.previousElementSibling) {
            e.target.previousElementSibling.focus();
          }
        });
      });

      // OTP verification
      document.getElementById('verifyOtpBtn').addEventListener('click', verifyOTP);

      // Service selection
      document.querySelectorAll('.service-card').forEach(card => {
        card.addEventListener('click', (e) => {
          document.querySelectorAll('.service-card').forEach(c => c.classList.remove('selected'));
          e.currentTarget.classList.add('selected');
          appState.data.service = {
            id: e.currentTarget.dataset.service,
            name: e.currentTarget.querySelector('.service-name').textContent
          };
          updateStepCompletion(2, true);
        });
      });

      // File uploads
      setupFileUpload('idUploadArea', 'idDocument', 'ID Document');
      setupFileUpload('photoUploadArea', 'profilePhoto', 'Profile Photo');
      setupFileUpload('certificateUploadArea', 'certificates', 'Certificates');
      setupFileUpload('videoUploadArea', 'introVideo', 'Introduction Video');

      // Payment method toggle
      document.querySelectorAll('.toggle-option').forEach(option => {
        option.addEventListener('click', (e) => {
          document.querySelectorAll('.toggle-option').forEach(opt => opt.classList.remove('active'));
          e.currentTarget.classList.add('active');
          
          const method = e.currentTarget.dataset.method;
          if (method === 'bank') {
            document.getElementById('bankSection').style.display = 'block';
            document.getElementById('upiSection').style.display = 'none';
          } else {
            document.getElementById('bankSection').style.display = 'none';
            document.getElementById('upiSection').style.display = 'block';
          }
        });
      });

      // Location detection
      document.getElementById('detectLocationBtn').addEventListener('click', detectLocation);

      // Form validation
      setupFormValidation();
    }

    function showOTPSection() {
      document.getElementById('otpSection').style.display = 'block';
    }

    function startOTPTimer() {
      let time = 120; // 2 minutes in seconds
      const timerElement = document.getElementById('otpTimer');
      
      const timer = setInterval(() => {
        const minutes = Math.floor(time / 60);
        const seconds = time % 60;
        timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        
        if (time <= 0) {
          clearInterval(timer);
          timerElement.textContent = 'Expired';
          timerElement.style.color = 'var(--danger)';
        }
        
        time--;
      }, 1000);
    }

    function verifyOTP() {
      const otpInputs = document.querySelectorAll('.otp-input');
      const otp = Array.from(otpInputs).map(input => input.value).join('');
      
      if (otp.length === 6) {
        showToast('OTP Verified!', 'Mobile number verified successfully', 'success');
        updateStepCompletion(1, true);
        nextStep();
      } else {
        showToast('Invalid OTP', 'Please enter a valid 6-digit OTP', 'error');
      }
    }

    function setupFileUpload(uploadAreaId, fileInputId, label) {
      const uploadArea = document.getElementById(uploadAreaId);
      const fileInput = document.getElementById(fileInputId);
      const button = uploadArea.querySelector('button');
      
      button.addEventListener('click', () => fileInput.click());
      uploadArea.addEventListener('click', (e) => {
        if (e.target !== button) {
          fileInput.click();
        }
      });
      
      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('drag-over');
      });
      
      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('drag-over');
      });
      
      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('drag-over');
        fileInput.files = e.dataTransfer.files;
        handleFileSelect(fileInput, label);
      });
      
      fileInput.addEventListener('change', () => handleFileSelect(fileInput, label));
    }

    function handleFileSelect(fileInput, label) {
      const file = fileInput.files[0];
      if (file) {
        showToast('File Uploaded', `${label} uploaded successfully: ${file.name}`, 'success');
      }
    }

    function detectLocation() {
      if (navigator.geolocation) {
        showToast('Location Detection', 'Detecting your location...', 'info');
        
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const lat = position.coords.latitude;
            const lng = position.coords.longitude;
            
            // Simulate reverse geocoding
            setTimeout(() => {
              document.getElementById('city').value = 'Bengaluru';
              document.getElementById('area').value = 'Near your location';
              document.getElementById('state').value = 'KA';
              
              showToast('Location Found', 'Your location has been detected successfully', 'success');
              updateStepCompletion(3, true);
            }, 1500);
          },
          (error) => {
            showToast('Location Error', 'Unable to detect location. Please enter manually.', 'error');
          }
        );
      } else {
        showToast('Not Supported', 'Geolocation is not supported by your browser', 'error');
      }
    }

    function setupFormValidation() {
      // Add input event listeners for validation
      const inputs = document.querySelectorAll('input[required], select[required]');
      inputs.forEach(input => {
        input.addEventListener('input', () => {
          validateField(input);
        });
        input.addEventListener('blur', () => {
          validateField(input);
        });
      });
    }

    function validateField(field) {
      const value = field.value.trim();
      const isValid = value.length > 0;
      
      if (isValid) {
        field.style.borderColor = 'var(--success)';
      } else {
        field.style.borderColor = 'var(--danger)';
      }
      
      return isValid;
    }

    function showStep(stepNumber) {
      appState.currentStep = stepNumber;
      
      // Hide all steps
      document.querySelectorAll('.step-content').forEach(step => {
        step.classList.remove('active');
      });
      
      // Show current step
      const currentStep = document.getElementById(`step${stepNumber}`);
      if (currentStep) {
        currentStep.classList.add('active');
      }
      
      // Update navigation buttons
      updateNavigationButtons();
      
      // Update step navigation in sidebar
      renderStepNavigation();
      
      // Update progress
      updateProgress();
    }

    function nextStep() {
      if (appState.currentStep < appState.totalSteps) {
        // Save step data
        saveStepData();
        
        // Mark current step as completed
        const currentStepIndex = appState.currentStep - 1;
        appState.steps[currentStepIndex].completed = true;
        
        // Move to next step
        showStep(appState.currentStep + 1);
        
        // If moving to last step, update UI
        if (appState.currentStep === appState.totalSteps) {
          generateReviewSummary();
        }
      }
    }

    function prevStep() {
      if (appState.currentStep > 1) {
        showStep(appState.currentStep - 1);
      }
    }

    function saveStepData() {
      switch(appState.currentStep) {
        case 1:
          appState.data.personal = {
            fullName: document.getElementById('fullName').value,
            dob: document.getElementById('dob').value,
            mobile: document.getElementById('mobile').value,
            email: document.getElementById('email').value
          };
          break;
        case 2:
          appState.data.service = {
            selected: document.querySelector('.service-card.selected')?.dataset.service,
            custom: document.getElementById('customService').value,
            description: document.getElementById('serviceDescription').value
          };
          break;
        case 3:
          appState.data.location = {
            city: document.getElementById('city').value,
            area: document.getElementById('area').value,
            pincode: document.getElementById('pincode').value,
            state: document.getElementById('state').value
          };
          break;
        case 6:
          const method = document.querySelector('.toggle-option.active').dataset.method;
          appState.data.payment = {
            method: method,
            accountName: document.getElementById('accountName').value,
            accountNumber: document.getElementById('accountNumber').value,
            ifscCode: document.getElementById('ifscCode').value
          };
          break;
      }
      
      // Save to localStorage
      localStorage.setItem('hirewale_registration_data', JSON.stringify(appState.data));
    }

    function loadSavedData() {
      const savedData = localStorage.getItem('hirewale_registration_data');
      if (savedData) {
        appState.data = JSON.parse(savedData);
        
        // Populate form fields
        if (appState.data.personal) {
          document.getElementById('fullName').value = appState.data.personal.fullName || '';
          document.getElementById('dob').value = appState.data.personal.dob || '';
          document.getElementById('mobile').value = appState.data.personal.mobile || '';
          document.getElementById('email').value = appState.data.personal.email || '';
        }
      }
    }

    function updateStepCompletion(stepNumber, isComplete) {
      const stepIndex = stepNumber - 1;
      if (stepIndex >= 0 && stepIndex < appState.steps.length) {
        appState.steps[stepIndex].completed = isComplete;
        renderStepNavigation();
        updateProgress();
      }
    }

    function updateProgress() {
      const completedSteps = appState.steps.filter(step => step.completed).length;
      const progress = (completedSteps / appState.totalSteps) * 100;
      
      // Update progress ring
      const circle = document.querySelector('.ring-progress');
      const circumference = 2 * Math.PI * 54;
      const offset = circumference - (progress / 100) * circumference;
      circle.style.strokeDashoffset = offset;
      
      // Update percentage text
      document.getElementById('progressPercent').textContent = `${Math.round(progress)}%`;
    }

    function updateNavigationButtons() {
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const submitBtn = document.getElementById('submitBtn');
      
      prevBtn.disabled = appState.currentStep === 1;
      
      if (appState.currentStep === appState.totalSteps) {
        nextBtn.style.display = 'none';
        submitBtn.style.display = 'flex';
      } else {
        nextBtn.style.display = 'flex';
        submitBtn.style.display = 'none';
      }
      
      // Update step indicator
      document.querySelectorAll('.current-step').forEach(el => {
        el.textContent = appState.currentStep;
      });
    }

    function generateReviewSummary() {
      const summaryDiv = document.getElementById('reviewSummary');
      const summary = `
        <div class="summary-section">
          <h3 style="margin-bottom: 20px; color: var(--ink);">
            <i class="fas fa-user" style="color: var(--brand-600);"></i>
            Personal Information
          </h3>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-label">Full Name</div>
              <div class="summary-value">${appState.data.personal.fullName || 'Not provided'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Mobile Number</div>
              <div class="summary-value">${appState.data.personal.mobile || 'Not provided'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Email Address</div>
              <div class="summary-value">${appState.data.personal.email || 'Not provided'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Date of Birth</div>
              <div class="summary-value">${appState.data.personal.dob || 'Not provided'}</div>
            </div>
          </div>
        </div>
        
        <div class="summary-section">
          <h3 style="margin-bottom: 20px; color: var(--ink);">
            <i class="fas fa-briefcase" style="color: var(--brand-600);"></i>
            Service Details
          </h3>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-label">Selected Service</div>
              <div class="summary-value">${appState.data.service.selected || appState.data.service.custom || 'Not selected'}</div>
            </div>
          </div>
        </div>
        
        <div class="summary-section">
          <h3 style="margin-bottom: 20px; color: var(--ink);">
            <i class="fas fa-map-marker-alt" style="color: var(--brand-600);"></i>
            Location Details
          </h3>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-label">City</div>
              <div class="summary-value">${appState.data.location.city || 'Not provided'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Area</div>
              <div class="summary-value">${appState.data.location.area || 'Not provided'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">State</div>
              <div class="summary-value">${appState.data.location.state || 'Not provided'}</div>
            </div>
          </div>
        </div>
        
        <div class="summary-section">
          <h3 style="margin-bottom: 20px; color: var(--ink);">
            <i class="fas fa-credit-card" style="color: var(--brand-600);"></i>
            Payment Method
          </h3>
          <div class="summary-grid">
            <div class="summary-item">
              <div class="summary-label">Payment Method</div>
              <div class="summary-value">${appState.data.payment.method === 'bank' ? 'Bank Account' : 'UPI'}</div>
            </div>
            <div class="summary-item">
              <div class="summary-label">Account Holder</div>
              <div class="summary-value">${appState.data.payment.accountName || 'Not provided'}</div>
            </div>
          </div>
        </div>
      `;
      
      summaryDiv.innerHTML = summary;
    }

    function submitRegistration() {
      const agreeTerms = document.getElementById('agreeTerms').checked;
      const confirmFinal = document.getElementById('confirmFinal').checked;
      
      if (!agreeTerms || !confirmFinal) {
        showToast('Please Confirm', 'You must agree to terms and confirm accuracy', 'error');
        return;
      }
      
      // Show loading
      const submitBtn = document.getElementById('submitBtn');
      submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Processing...';
      submitBtn.disabled = true;
      
      // Simulate API call
      setTimeout(() => {
        // Hide all steps
        document.querySelectorAll('.step-content').forEach(step => {
          step.classList.remove('active');
        });
        
        // Show success screen
        document.getElementById('successScreen').style.display = 'block';
        
        // Generate account ID
        const accountId = 'HW-' + new Date().getFullYear() + '-' + 
          Math.random().toString(36).substr(2, 9).toUpperCase();
        document.getElementById('accountId').textContent = accountId;
        
        // Clear localStorage
        localStorage.removeItem('hirewale_registration_data');
        
        // Show success message
        showToast('Registration Complete!', 'Your account has been created successfully', 'success');
      }, 2000);
    }

    function showToast(title, message, type = 'info') {
      const toastContainer = document.getElementById('toastContainer');
      const toastId = 'toast-' + Date.now();
      
      const icon = type === 'success' ? 'fa-check-circle' : 
                   type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle';
      
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.id = toastId;
      toast.innerHTML = `
        <div class="toast-icon">
          <i class="fas ${icon}"></i>
        </div>
        <div class="toast-content">
          <div class="toast-title">${title}</div>
          <div class="toast-message">${message}</div>
        </div>
      `;
      
      toastContainer.appendChild(toast);
      
      // Remove toast after 5 seconds
      setTimeout(() => {
        const toastElement = document.getElementById(toastId);
        if (toastElement) {
          toastElement.style.animation = 'slideInRight 0.3s ease reverse';
          setTimeout(() => {
            if (toastElement.parentNode) {
              toastElement.parentNode.removeChild(toastElement);
            }
          }, 300);
        }
      }, 5000);
    }

    function createParticles() {
      const container = document.getElementById('particlesContainer');
      const particleCount = 50;
      
      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        
        // Random size between 2-10px
        const size = Math.random() * 8 + 2;
        particle.style.width = `${size}px`;
        particle.style.height = `${size}px`;
        
        // Random position
        particle.style.left = `${Math.random() * 100}%`;
        particle.style.top = `${Math.random() * 100}%`;
        
        // Random opacity
        particle.style.opacity = Math.random() * 0.5 + 0.1;
        
        // Random animation
        const duration = Math.random() * 20 + 10;
        particle.style.animation = `float ${duration}s infinite ease-in-out`;
        
        // Add animation
        const style = document.createElement('style');
        style.textContent = `
          @keyframes float {
            0%, 100% { transform: translate(0, 0) rotate(0deg); }
            25% { transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px) rotate(90deg); }
            50% { transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px) rotate(180deg); }
            75% { transform: translate(${Math.random() * 100 - 50}px, ${Math.random() * 100 - 50}px) rotate(270deg); }
          }
        `;
        document.head.appendChild(style);
        
        container.appendChild(particle);
      }
    }

    // Make functions available globally for inline event handlers
    window.showStep = showStep;
    window.nextStep = nextStep;
    window.prevStep = prevStep;
  </script>
</body>
</html>